
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../Services_and_Applications/fail2ban/">
      
      
        <link rel="next" href="../../nixos/installation/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>Tar - Documentation and Notes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DM+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"DM Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#generalities" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Documentation and Notes" class="md-header__button md-logo" aria-label="Documentation and Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation and Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tar
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Documentation and Notes" class="md-nav__button md-logo" aria-label="Documentation and Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Documentation and Notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ansible
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Ansible
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ansible/ansible_cfg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ansible cfg
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ansible/cheatsheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cheatsheet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Kubernetes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Kubernetes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../kubernetes/k3sinstallation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installling K3S
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tricks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tricks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bash
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Services and Applications
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Services and Applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Services_and_Applications/fail2ban/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fail2ban
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" checked>
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Backups
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Backups
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Tar
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Tar
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Tabel of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabel of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#generalities" class="md-nav__link">
    <span class="md-ellipsis">
      Generalities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generalities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-process" class="md-nav__link">
    <span class="md-ellipsis">
      The process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Backup methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#periodicity" class="md-nav__link">
    <span class="md-ellipsis">
      Periodicity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restoration-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Restoration methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-tools" class="md-nav__link">
    <span class="md-ellipsis">
      The tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#naming-convention" class="md-nav__link">
    <span class="md-ellipsis">
      Naming convention
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contents-of-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Contents of a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-modes" class="md-nav__link">
    <span class="md-ellipsis">
      Storage modes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tape-archiver-tar" class="md-nav__link">
    <span class="md-ellipsis">
      Tape ArchiveR - tar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tape ArchiveR - tar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#restoration-guidelines" class="md-nav__link">
    <span class="md-ellipsis">
      Restoration guidelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backing-up-with-tar" class="md-nav__link">
    <span class="md-ellipsis">
      Backing up with tar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backing up with tar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estimate-the-size-of-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Estimate the size of a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#naming-convention-for-a-tar-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Naming convention for a tar backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Create a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-backup-in-relative-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Create a backup in relative mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-backup-in-absolute-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Create a backup in absolute mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-compressed-backup-with-gzip" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a compressed backup with gzip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-compressed-backup-with-bzip" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a compressed backup with bzip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compression-compress-gzip-bzip2-lzip-xz-and-zstd" class="md-nav__link">
    <span class="md-ellipsis">
      Compression compress, gzip, bzip2, lzip xz and zstd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-a-file-or-directory-to-an-existing-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Add a file or directory to an existing backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-the-contents-of-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      List the contents of a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-the-integrity-of-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Check the integrity of a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-untar-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Extract (untar) a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-only-a-file-from-a-tar-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Extract only a file from a tar backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-a-folder-from-a-backup-tar" class="md-nav__link">
    <span class="md-ellipsis">
      Extract a folder from a backup tar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-a-group-of-files-from-a-tar-backup-using-regular-expressions-regex" class="md-nav__link">
    <span class="md-ellipsis">
      Extract a group of files from a tar backup using regular expressions (regex)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Nixos
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Nixos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nixos/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Security
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/auditd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auditd
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/debsecscan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debsecscan
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Networking
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Networking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/Other/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Other
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/network_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/networking_primer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networking primer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/packet_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Packet types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/subnetting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subnetting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Nix
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Nix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../nix/nix_basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nix basics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Proxmox
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Proxmox
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../proxmox/cloud-init/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud-Init Template Creation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../proxmox/proxmox_exporter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proxmox exporter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LXC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            LXC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../proxmox/LXC/Customizing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customizing a Template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../proxmox/LXC/Downloading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downloading a Template
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pxe
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Pxe
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../pxe/Netbootxyz/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Netbootxyz
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ssh
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Ssh
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ssh/hardening_ssh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardening ssh
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ssh/monitoring_ssh_logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring ssh logs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ssh/ssh_commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ssh commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ssh/ssh_keygen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ssh keygen
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Tabel of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabel of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#generalities" class="md-nav__link">
    <span class="md-ellipsis">
      Generalities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generalities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-process" class="md-nav__link">
    <span class="md-ellipsis">
      The process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Backup methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#periodicity" class="md-nav__link">
    <span class="md-ellipsis">
      Periodicity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restoration-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Restoration methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-tools" class="md-nav__link">
    <span class="md-ellipsis">
      The tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#naming-convention" class="md-nav__link">
    <span class="md-ellipsis">
      Naming convention
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contents-of-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Contents of a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-modes" class="md-nav__link">
    <span class="md-ellipsis">
      Storage modes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tape-archiver-tar" class="md-nav__link">
    <span class="md-ellipsis">
      Tape ArchiveR - tar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tape ArchiveR - tar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#restoration-guidelines" class="md-nav__link">
    <span class="md-ellipsis">
      Restoration guidelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backing-up-with-tar" class="md-nav__link">
    <span class="md-ellipsis">
      Backing up with tar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backing up with tar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estimate-the-size-of-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Estimate the size of a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#naming-convention-for-a-tar-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Naming convention for a tar backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Create a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-backup-in-relative-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Create a backup in relative mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-backup-in-absolute-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Create a backup in absolute mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-compressed-backup-with-gzip" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a compressed backup with gzip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-compressed-backup-with-bzip" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a compressed backup with bzip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compression-compress-gzip-bzip2-lzip-xz-and-zstd" class="md-nav__link">
    <span class="md-ellipsis">
      Compression compress, gzip, bzip2, lzip xz and zstd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-a-file-or-directory-to-an-existing-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Add a file or directory to an existing backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-the-contents-of-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      List the contents of a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-the-integrity-of-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Check the integrity of a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-untar-a-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Extract (untar) a backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-only-a-file-from-a-tar-backup" class="md-nav__link">
    <span class="md-ellipsis">
      Extract only a file from a tar backup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-a-folder-from-a-backup-tar" class="md-nav__link">
    <span class="md-ellipsis">
      Extract a folder from a backup tar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-a-group-of-files-from-a-tar-backup-using-regular-expressions-regex" class="md-nav__link">
    <span class="md-ellipsis">
      Extract a group of files from a tar backup using regular expressions (regex)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Tar</h1>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Throughout this chapter the command structures use "device" to specify both a target location for backup, and the source location when restoring. The device can be either external media or a local file. You should get a feel for this as the chapter unfolds, but you can always refer back to this note for clarification if you need to.</p>
</div>
<p>The backup will answer a need to conserve and restore data in a sure and effective way.</p>
<p>The backup allows you to protect yourself from the following:</p>
<ul>
<li><strong>Destruction</strong>: voluntary or involuntary. Human or technical. Virus, ...</li>
<li><strong>Deletion</strong>: voluntary or involuntary. Human or technical. Virus, ...</li>
<li><strong>Integrity</strong>: data becomes unusable.</li>
</ul>
<p>No system is infallible, no human is infallible, so to avoid losing data, it must be backed up to be able to restore after a problem.</p>
<p>The backup media should be kept in another room (or building) than the server so that a disaster does not destroy the server and the backups.</p>
<p>In addition, the administrator must regularly check that the media are still readable.</p>
<h4 id="generalities">Generalities<a class="headerlink" href="#generalities" title="Permanent link">✵</a></h4>
<p>There are two principles, the <strong>backup</strong> and the <strong>archive</strong>.</p>
<ul>
<li>The archive destroys the information source after the operation.</li>
<li>The backup preserves the source of information after the operation.</li>
</ul>
<p>These operations consist of saving information in a file, on a peripheral or a supported media (tapes, disks, ...).</p>
<h5 id="the-process">The process<a class="headerlink" href="#the-process" title="Permanent link">✵</a></h5>
<p>Backups require a lot of discipline and rigor from the system administrator. It is necessary to ask the following questions:</p>
<ul>
<li>What is the appropriate medium?</li>
<li>What should be backed up?</li>
<li>How many copies?</li>
<li>How long will the backup take?</li>
<li>Method?</li>
<li>How often?</li>
<li>Automatic or manual?</li>
<li>Where to store it?</li>
<li>How long will it be kept?</li>
</ul>
<h5 id="backup-methods">Backup methods<a class="headerlink" href="#backup-methods" title="Permanent link">✵</a></h5>
<ul>
<li><strong>Complete</strong>: one or more <strong>filesystems</strong> are backed up (kernel, data, utilities, ...).</li>
<li><strong>Partial</strong>: one or more <strong>files</strong> are backed up (configurations, directories, ...).</li>
<li><strong>Differential</strong>: only files modified since the last <strong>complete</strong> backup are backed up.</li>
<li><strong>Incremental</strong>: only files modified since the last backup are backed up.</li>
</ul>
<h5 id="periodicity">Periodicity<a class="headerlink" href="#periodicity" title="Permanent link">✵</a></h5>
<ul>
<li><strong>Pre-current</strong>: at a given time (before a system update, ...).</li>
<li><strong>Periodic</strong>: Daily, weekly, monthly, ...</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Before a system change, it can be useful to make a backup. However, there is no point in backing up data every day that is only changed every month.</p>
</div>
<h5 id="restoration-methods">Restoration methods<a class="headerlink" href="#restoration-methods" title="Permanent link">✵</a></h5>
<p>Depending on the utilities available, it will be possible to perform several types of restorations.</p>
<ul>
<li><strong>Complete restoration</strong>: trees, ...</li>
<li><strong>Selective restoration</strong>: part of tree, files, ...</li>
</ul>
<p>It is possible to restore a whole backup, but it is also possible to restore only a part of it. However, when restoring a directory, the files created after the backup are not deleted.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To recover a directory as it was at the time of the backup, it is necessary to completely delete its contents before launching the restoration.</p>
</div>
<h5 id="the-tools">The tools<a class="headerlink" href="#the-tools" title="Permanent link">✵</a></h5>
<p>There are many utilities to make backups.</p>
<ul>
<li><strong>editor tools</strong>;</li>
<li><strong>graphical tools</strong>;</li>
<li><strong>command line tools</strong>: <code>tar</code>, <code>cpio</code>, <code>pax</code>, <code>dd</code>, <code>dump</code>, ...</li>
</ul>
<p>The commands we will use here are <code>tar</code> and <code>cpio</code>.</p>
<ul>
<li>
<p><code>tar</code>:</p>
</li>
<li>
<p>easy to use;</p>
</li>
<li>
<p>allows adding files to an existing backup.</p>
</li>
<li>
<p><code>cpio</code>:</p>
</li>
<li>
<p>retains owners;</p>
</li>
<li>retains groups, dates and rights;</li>
<li>skips damaged files;</li>
<li>entire file system.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These commands save in a proprietary and standardized format.</p>
</div>
<h5 id="naming-convention">Naming convention<a class="headerlink" href="#naming-convention" title="Permanent link">✵</a></h5>
<p>The use of a naming convention makes it possible to quickly target the contents of a backup file and thus avoid hazardous restorations.</p>
<ul>
<li>name of the directory;</li>
<li>utility used;</li>
<li>options used;</li>
<li>date.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The name of the backup must be an explicit name.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The notion of extension under Linux does not exist. In other words, our use of extensions here is for the human operator. If the systems administrator sees a <code>.tar.gz</code> or <code>.tgz</code> file extension, for instance, then he knows how to deal with the file.</p>
</div>
<h5 id="contents-of-a-backup">Contents of a backup<a class="headerlink" href="#contents-of-a-backup" title="Permanent link">✵</a></h5>
<p>A backup generally contains the following elements:</p>
<ul>
<li>the file;</li>
<li>the name;</li>
<li>the owner;</li>
<li>the size;</li>
<li>the permissions;</li>
<li>access date.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>inode</code> number is missing.</p>
</div>
<h5 id="storage-modes">Storage modes<a class="headerlink" href="#storage-modes" title="Permanent link">✵</a></h5>
<p>There are two different storage modes:</p>
<ul>
<li>file on disk;</li>
<li>device.</li>
</ul>
<h4 id="tape-archiver-tar">Tape ArchiveR - <code>tar</code><a class="headerlink" href="#tape-archiver-tar" title="Permanent link">✵</a></h4>
<p>The <code>tar</code> command allows saving on several successive media (multi-volume options).</p>
<p>It is possible to extract all or part of a backup.</p>
<p><code>tar</code> implicitly backs up in relative mode even if the path of the information to be backed up is mentioned in absolute mode. However, backups and restores in absolute mode are possible.</p>
<h5 id="restoration-guidelines">Restoration guidelines<a class="headerlink" href="#restoration-guidelines" title="Permanent link">✵</a></h5>
<p>The right questions to ask are:</p>
<ul>
<li>what: partial or complete;</li>
<li>where: the place where the data will be restored;</li>
<li>how: absolute or relative.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Before a restoration, it is important to take time to think about and determine the most appropriate method to avoid mistakes.</p>
</div>
<p>Restorations are usually performed after a problem has occurred that needs to be resolved quickly. A poor restoration can, in some cases, make the situation worse.</p>
<h5 id="backing-up-with-tar">Backing up with <code>tar</code><a class="headerlink" href="#backing-up-with-tar" title="Permanent link">✵</a></h5>
<p>The default utility for creating backups on UNIX systems is the <code>tar</code> command. These backups can be compressed by <code>bzip2</code>, <code>xz</code>, <code>lzip</code>, <code>lzma</code>, <code>lzop</code>, <code>gzip</code>, <code>compress</code> or <code>zstd</code>.</p>
<p><code>tar</code> allows you to extract a single file or a directory from a backup, view its contents or validate its integrity.</p>
<h6 id="estimate-the-size-of-a-backup">Estimate the size of a backup<a class="headerlink" href="#estimate-the-size-of-a-backup" title="Permanent link">✵</a></h6>
<p>The following command estimates the size in kilobytes of a possible <em>tar</em> file:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>$<span class="w"> </span>tar<span class="w"> </span>cf<span class="w"> </span>-<span class="w"> </span>/directory/to/backup/<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-c
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="m">20480</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>$<span class="w"> </span>tar<span class="w"> </span>czf<span class="w"> </span>-<span class="w"> </span>/directory/to/backup/<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-c
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="m">508</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>$<span class="w"> </span>tar<span class="w"> </span>cjf<span class="w"> </span>-<span class="w"> </span>/directory/to/backup/<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-c
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="m">428</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Beware, the presence of "-" in the command line disturbs <code>zsh</code>. Switch to <code>bash</code>!</p>
</div>
<h6 id="naming-convention-for-a-tar-backup">Naming convention for a <code>tar</code> backup<a class="headerlink" href="#naming-convention-for-a-tar-backup" title="Permanent link">✵</a></h6>
<p>Here is an example of a naming convention for a <code>tar</code> backup, knowing that the date is to be added to the name.</p>
<table>
<thead>
<tr>
<th>keys</th>
<th>Files</th>
<th>Suffix</th>
<th>Functionality</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cvf</code></td>
<td><code>home</code></td>
<td><code>home.tar</code></td>
<td><code>/home</code> in relative mode, uncompressed form</td>
</tr>
<tr>
<td><code>cvfP</code></td>
<td><code>/etc</code></td>
<td><code>etc.A.tar</code></td>
<td><code>/etc</code> in absolute mode, no compression</td>
</tr>
<tr>
<td><code>cvfz</code></td>
<td><code>usr</code></td>
<td><code>usr.tar.gz</code></td>
<td><code>/usr</code> in relative mode, <em>gzip</em> compression</td>
</tr>
<tr>
<td><code>cvfj</code></td>
<td><code>usr</code></td>
<td><code>usr.tar.bz2</code></td>
<td><code>/usr</code> in relative mode, <em>bzip2</em> compression</td>
</tr>
<tr>
<td><code>cvfPz</code></td>
<td><code>/home</code></td>
<td><code>home.A.tar.gz</code></td>
<td><code>home</code> in absolute mode, <em>gzip</em> compression</td>
</tr>
<tr>
<td><code>cvfPj</code></td>
<td><code>/home</code></td>
<td><code>home.A.tar.bz2</code></td>
<td><code>home</code> in absolute mode, <em>bzip2</em> compression</td>
</tr>
<tr>
<td>…</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h6 id="create-a-backup">Create a backup<a class="headerlink" href="#create-a-backup" title="Permanent link">✵</a></h6>
<h6 id="create-a-backup-in-relative-mode">Create a backup in relative mode<a class="headerlink" href="#create-a-backup-in-relative-mode" title="Permanent link">✵</a></h6>
<p>Creating a non-compressed backup in relative mode is done with the <code>cvf</code> keys:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>tar<span class="w"> </span>c<span class="o">[</span>vf<span class="o">]</span><span class="w"> </span><span class="o">[</span>device<span class="o">]</span><span class="w"> </span><span class="o">[</span>file<span class="o">(</span>s<span class="o">)]</span>
</span></code></pre></div>
<p>Example:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="o">[</span>root<span class="o">]</span><span class="c1"># tar cvf /backups/home.133.tar /home/</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c</code></td>
<td>Creates a backup.</td>
</tr>
<tr>
<td><code>v</code></td>
<td>Displays the name of the processed files.</td>
</tr>
<tr>
<td><code>f</code></td>
<td>Allows you to specify the name of the backup (medium).</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The hyphen (<code>-</code>) in front of the <code>tar</code> keys is not necessary!</p>
</div>
<h6 id="create-a-backup-in-absolute-mode">Create a backup in absolute mode<a class="headerlink" href="#create-a-backup-in-absolute-mode" title="Permanent link">✵</a></h6>
<p>Creating a non-compressed backup explicitly in absolute mode is done with the <code>cvfP</code> keys:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>tar<span class="w"> </span>c<span class="o">[</span>vf<span class="o">]</span>P<span class="w"> </span><span class="o">[</span>device<span class="o">]</span><span class="w"> </span><span class="o">[</span>file<span class="o">(</span>s<span class="o">)]</span>
</span></code></pre></div>
<p>Example:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="o">[</span>root<span class="o">]</span><span class="c1"># tar cvfP /backups/home.133.P.tar /home/</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>P</code></td>
<td>Creates a backup in absolute mode.</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>With the <code>P</code> key, the path of the files to be backed up must be entered as <strong>absolute</strong>. If the two conditions (key <code>P</code> and path <strong>absolute</strong>) are not indicated, the backup is in relative mode.</p>
</div>
<h6 id="creating-a-compressed-backup-with-gzip">Creating a compressed backup with <code>gzip</code><a class="headerlink" href="#creating-a-compressed-backup-with-gzip" title="Permanent link">✵</a></h6>
<p>Creating a compressed backup with <code>gzip</code> is done with the <code>cvfz</code> keys:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>tar<span class="w"> </span>cvzf<span class="w"> </span>backup.tar.gz<span class="w"> </span>dirname/
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>z</code></td>
<td>Compresses the backup in <em>gzip</em>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>.tgz</code> extension is an equivalent extension to <code>.tar.gz</code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keeping the <code>cvf</code> (<code>tvf</code> or <code>xvf</code>) keys unchanged for all backup operations and simply adding the compression key to the end of the keys makes the command easier to understand (e.g., <code>cvfz</code> or <code>cvfj</code>, etc.).</p>
</div>
<h6 id="creating-a-compressed-backup-with-bzip">Creating a compressed backup with <code>bzip</code><a class="headerlink" href="#creating-a-compressed-backup-with-bzip" title="Permanent link">✵</a></h6>
<p>Creating a compressed backup with <code>bzip</code> is done with the keys <code>cvfj</code>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>tar<span class="w"> </span>cvfj<span class="w"> </span>backup.tar.bz2<span class="w"> </span>dirname/
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>j</code></td>
<td>Compresses the backup in <em>bzip2</em>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>.tbz</code> and <code>.tb2</code> extensions are equivalent to <code>.tar.bz2</code> extensions.</p>
</div>
<h6 id="compression-compress-gzip-bzip2-lzip-xz-and-zstd">Compression <code>compress</code>, <code>gzip</code>, <code>bzip2</code>, <code>lzip</code> <code>xz</code> and <code>zstd</code><a class="headerlink" href="#compression-compress-gzip-bzip2-lzip-xz-and-zstd" title="Permanent link">✵</a></h6>
<p>Compression, and consequently decompression, will have an impact on resource consumption (time and CPU usage).</p>
<p>Here is a ranking of the compression of a set of text files, from least to most efficient:</p>
<ul>
<li>compress (<code>.tar.Z</code>)</li>
<li>gzip (<code>.tar.gz</code>)</li>
<li>bzip2 (<code>.tar.bz2</code>)</li>
<li>lzip (<code>.tar.lz</code>)</li>
<li>xz (<code>.tar.xz</code>)</li>
<li>zstd (<code>.tar.zst</code>)(<code>.tzst</code>)</li>
</ul>
<h6 id="add-a-file-or-directory-to-an-existing-backup">Add a file or directory to an existing backup<a class="headerlink" href="#add-a-file-or-directory-to-an-existing-backup" title="Permanent link">✵</a></h6>
<p>It is possible to add one or more items to an existing backup.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>tar<span class="w"> </span><span class="o">{</span>r<span class="p">|</span>A<span class="o">}[</span>key<span class="o">(</span>s<span class="o">)]</span><span class="w"> </span><span class="o">[</span>device<span class="o">]</span><span class="w"> </span><span class="o">[</span>file<span class="o">(</span>s<span class="o">)]</span>
</span></code></pre></div>
<p>To add <code>/etc/passwd</code> to the backup <code>/backups/home.133.tar</code>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">[</span>root<span class="o">]</span><span class="c1"># tar rvf /backups/home.133.tar /etc/passwd</span>
</span></code></pre></div>
<p>Adding a directory is similar. Here add <code>dirtoadd</code> to <code>backup_name.tar</code>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>tar<span class="w"> </span>rvf<span class="w"> </span>backup_name.tar<span class="w"> </span>dirtoadd
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>r</code></td>
<td>Adds one or more files at the end of a direct access media backup (hard disk).</td>
</tr>
<tr>
<td><code>A</code></td>
<td>Adds one or more files at the end of a backup on sequential access media (tape).</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is not possible to add files or folders to a compressed backup.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>$ tar rvfz backup.tgz filetoadd
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>tar: Cannot update compressed archives
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>Try `tar --help&#39; or `tar --usage&#39; for more information.
</span></code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the backup was performed in relative mode, add files in relative mode. If the backup was done in absolute mode, add files in absolute mode.</p>
<p>Mixing modes can cause problems when restoring.</p>
</div>
<h6 id="list-the-contents-of-a-backup">List the contents of a backup<a class="headerlink" href="#list-the-contents-of-a-backup" title="Permanent link">✵</a></h6>
<p>Viewing the contents of a backup without extracting it is possible.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>tar<span class="w"> </span>t<span class="o">[</span>key<span class="o">(</span>s<span class="o">)]</span><span class="w"> </span><span class="o">[</span>device<span class="o">]</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>t</code></td>
<td>Displays the content of a backup (compressed or not).</td>
</tr>
</tbody>
</table>
<p>Examples:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>tar<span class="w"> </span>tvf<span class="w"> </span>backup.tar
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>tar<span class="w"> </span>tvfz<span class="w"> </span>backup.tar.gz
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>tar<span class="w"> </span>tvfj<span class="w"> </span>backup.tar.bz2
</span></code></pre></div>
<p>When the number of files in a backup becomes large, it is possible to <em>pipe</em> the result of the <code>tar</code> command to a <em>pager</em> (<code>more</code>, <code>less</code>, <code>most</code>, etc.):</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>tar<span class="w"> </span>tvf<span class="w"> </span>backup.tar<span class="w"> </span><span class="p">|</span><span class="w"> </span>less
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To list or retrieve the contents of a backup, it is not necessary to mention the compression algorithm used when the backup was created. That is, a <code>tar tvf</code> is equivalent to <code>tar tvfj</code>, to read the contents, and a <code>tar xvf</code> is equivalent to <code>tar xvfj</code>, to extract.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Always check the contents of a backup.</p>
</div>
<h6 id="check-the-integrity-of-a-backup">Check the integrity of a backup<a class="headerlink" href="#check-the-integrity-of-a-backup" title="Permanent link">✵</a></h6>
<p>The integrity of a backup can be tested with the <code>W</code> key at the time of its creation:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>tar<span class="w"> </span>cvfW<span class="w"> </span>file_name.tar<span class="w"> </span>dir/
</span></code></pre></div>
<p>The integrity of a backup can be tested with the key <code>d</code> after its creation:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>tar<span class="w"> </span>vfd<span class="w"> </span>file_name.tar<span class="w"> </span>dir/
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>By adding a second <code>v</code> to the previous key, you will get the list of archived files as well as the differences between the archived files and those present in the file system.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>$ tar vvfd  /tmp/quodlibet.tar .quodlibet/
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>drwxr-x--- rockstar/rockstar     0 2021-05-21 00:11 .quodlibet/
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>-rw-r--r-- rockstar/rockstar     0 2021-05-19 00:59 .quodlibet/queue
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>[…]
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>-rw------- rockstar/rockstar  3323 2021-05-21 00:11 .quodlibet/config
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>.quodlibet/config: Mod time differs
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>.quodlibet/config: Size differs
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>[…]
</span></code></pre></div>
</div>
<p>The <code>W</code> key is also used to compare the content of an archive against the filesystem:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>$<span class="w"> </span>tar<span class="w"> </span>tvfW<span class="w"> </span>file_name.tar
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>Verify<span class="w"> </span><span class="m">1</span>/file1
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="m">1</span>/file1:<span class="w"> </span>Mod<span class="w"> </span><span class="nb">time</span><span class="w"> </span>differs
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="m">1</span>/file1:<span class="w"> </span>Size<span class="w"> </span>differs
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>Verify<span class="w"> </span><span class="m">1</span>/file2
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>Verify<span class="w"> </span><span class="m">1</span>/file3
</span></code></pre></div>
<p>The verification with the <code>W</code> key cannot be done with a compressed archive. The key ++d++ must be used:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>tar<span class="w"> </span>dfz<span class="w"> </span>file_name.tgz
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>tar<span class="w"> </span>dfj<span class="w"> </span>file_name.tar.bz2
</span></code></pre></div>
<h6 id="extract-untar-a-backup">Extract (<em>untar</em>) a backup<a class="headerlink" href="#extract-untar-a-backup" title="Permanent link">✵</a></h6>
<p>Extract (<em>untar</em>) a <code>*.tar</code> backup is done with the <code>xvf</code> keys:</p>
<p>Extract the <code>etc/exports</code> file from the <code>/savings/etc.133.tar</code> backup into the <code>etc</code> directory of the active directory:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>tar<span class="w"> </span>xvf<span class="w"> </span>/backups/etc.133.tar<span class="w"> </span>etc/exports
</span></code></pre></div>
<p>Extract all files from the compressed backup <code>/backups/home.133.tar.bz2</code> into the active directory:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="o">[</span>root<span class="o">]</span><span class="c1"># tar xvfj /backups/home.133.tar.bz2</span>
</span></code></pre></div>
<p>Extract all files from the backup <code>/backups/etc.133.P.tar</code> to their original directory:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>tar<span class="w"> </span>xvfP<span class="w"> </span>/backups/etc.133.P.tar
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Go to the right place.</p>
<p>Check the contents of the backup.</p>
</div>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x</code></td>
<td>Extracts files from the backup, compressed or not.</td>
</tr>
</tbody>
</table>
<p>Extracting a <em>tar-gzipped</em> (<code>*.tar.gz</code>) backup is done with the <code>xvfz</code> keys:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>tar<span class="w"> </span>xvfz<span class="w"> </span>backup.tar.gz
</span></code></pre></div>
<p>Extracting a <em>tar-bzipped</em> (<code>*.tar.bz2</code>) backup is done with the <code>xvfj</code> keys:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>tar<span class="w"> </span>xvfj<span class="w"> </span>backup.tar.bz2
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To extract or list the contents of a backup, it is not necessary to mention the compression algorithm used to create the backup. That is, a <code>tar xvf</code> is equivalent to <code>tar xvfj</code>, to extract the contents, and a <code>tar tvf</code> is equivalent to <code>tar tvfj</code>, to list.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To restore the files in their original directory (key <code>P</code> of a <code>tar xvf</code>), you must have generated the backup with the absolute path. That is, with the <code>P</code> key of a <code>tar cvf</code>.</p>
</div>
<h6 id="extract-only-a-file-from-a-tar-backup">Extract only a file from a <em>tar</em> backup<a class="headerlink" href="#extract-only-a-file-from-a-tar-backup" title="Permanent link">✵</a></h6>
<p>To extract a specific file from a <em>tar</em> backup, specify the name of that file at the end of the <code>tar xvf</code> command.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>tar<span class="w"> </span>xvf<span class="w"> </span>backup.tar<span class="w"> </span>/path/to/file
</span></code></pre></div>
<p>The previous command extracts only the <code>/path/to/file</code> file from the <code>backup.tar</code> backup. This file will be restored to the <code>/path/to/</code> directory created, or already present, in the active directory.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>tar<span class="w"> </span>xvfz<span class="w"> </span>backup.tar.gz<span class="w"> </span>/path/to/file
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>tar<span class="w"> </span>xvfj<span class="w"> </span>backup.tar.bz2<span class="w"> </span>/path/to/file
</span></code></pre></div>
<h6 id="extract-a-folder-from-a-backup-tar">Extract a folder from a backup <em>tar</em><a class="headerlink" href="#extract-a-folder-from-a-backup-tar" title="Permanent link">✵</a></h6>
<p>To extract only one directory (including its subdirectories and files) from a backup, specify the directory name at the end of the <code>tar xvf</code> command.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>tar<span class="w"> </span>xvf<span class="w"> </span>backup.tar<span class="w"> </span>/path/to/dir/
</span></code></pre></div>
<p>To extract multiple directories, specify each of the names one after the other:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>tar<span class="w"> </span>xvf<span class="w"> </span>backup.tar<span class="w"> </span>/path/to/dir1/<span class="w"> </span>/path/to/dir2/
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>tar<span class="w"> </span>xvfz<span class="w"> </span>backup.tar.gz<span class="w"> </span>/path/to/dir1/<span class="w"> </span>/path/to/dir2/
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>tar<span class="w"> </span>xvfj<span class="w"> </span>backup.tar.bz2<span class="w"> </span>/path/to/dir1/<span class="w"> </span>/path/to/dir2/
</span></code></pre></div>
<h6 id="extract-a-group-of-files-from-a-tar-backup-using-regular-expressions-regex">Extract a group of files from a <em>tar</em> backup using regular expressions (<em>regex</em>)<a class="headerlink" href="#extract-a-group-of-files-from-a-tar-backup-using-regular-expressions-regex" title="Permanent link">✵</a></h6>
<p>Specify a regular expression (<em>regex</em>) to extract the files matching the specified selection pattern.</p>
<p>For example, to extract all files with the extension <code>.conf</code>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>tar<span class="w"> </span>xvf<span class="w"> </span>backup.tar<span class="w"> </span>--wildcards<span class="w"> </span><span class="s1">&#39;*.conf&#39;</span>
</span></code></pre></div>
<p>keys:</p>
<ul>
<li><strong>--wildcards *.conf</strong> corresponds to files with the extension <code>.conf</code>.</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 5, 2024</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 5, 2024</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "search", "search.suggest", "search.highlight", "search.share", "content.tabs.link", "content.tooltips"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>